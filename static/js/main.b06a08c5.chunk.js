(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,function(e,t,n){},function(e,t,n){e.exports={"bg-warm-flame":"Main_bg-warm-flame__12vEX","bg-night-fade":"Main_bg-night-fade__2zziO","bg-sunny-morning":"Main_bg-sunny-morning__1c8Bw","bg-tempting-azure":"Main_bg-tempting-azure__1EUh4","bg-amy-crisp":"Main_bg-amy-crisp__vzpRL","bg-heavy-rain":"Main_bg-heavy-rain__M2PYh","bg-mean-fruit":"Main_bg-mean-fruit__14dgv","bg-malibu-beach":"Main_bg-malibu-beach__2mNJy","bg-deep-blue":"Main_bg-deep-blue__3MHK_","bg-ripe-malin":"Main_bg-ripe-malin__3Z08f","bg-arielle-smile":"Main_bg-arielle-smile__3Seeo","bg-plum-plate":"Main_bg-plum-plate__2C4BP","bg-happy-fisher":"Main_bg-happy-fisher__3cGjD","bg-happy-itmeo":"Main_bg-happy-itmeo__1Wsim","bg-mixed-hopes":"Main_bg-mixed-hopes__OBw7M","bg-strong-bliss":"Main_bg-strong-bliss__1Wim5","bg-grow-early":"Main_bg-grow-early__JCxo9","bg-love-kiss":"Main_bg-love-kiss__2l1Gy","bg-premium-dark":"Main_bg-premium-dark__2m9a3","bg-happy-green":"Main_bg-happy-green__2XF1c","bg-vicious-stance":"Main_bg-vicious-stance__2PMxo","bg-midnight-bloom":"Main_bg-midnight-bloom__oHHgw","bg-night-sky":"Main_bg-night-sky__3HKMJ","bg-slick-carbon":"Main_bg-slick-carbon__du-i8","bg-royal":"Main_bg-royal__2G8lI","bg-asteroid":"Main_bg-asteroid__1MwRd"}},,,,,function(e,t,n){e.exports={backDrop:"Modal_backDrop__3ICRV",modal:"Modal_modal__IZTxC"}},,function(e,t,n){e.exports={"img-div":"Header_img-div__1q6Wv",header:"Header_header__56os8"}},,function(e,t,n){e.exports={cartItem:"Cart_cartItem__1-p2i"}},,function(e,t,n){e.exports={input:"Input_input__L51AU"}},function(e,t,n){e.exports={"summary-wrapper":"Meals_summary-wrapper__Vu_95"}},,,,,function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var a=n(7),c=n.n(a),s=(n(22),n(2)),r=n(1),i=n.n(r),l=n(3),o=n(10),d=n.n(o),m=(n(4),n(0)),b=function(e){return Object(m.jsx)("div",{onClick:e.onClose,className:"".concat(d.a.backDrop," closeModal"),children:e.children})},u=function(e){return Object(m.jsx)(b,{onClose:e.onClose,children:Object(m.jsx)("div",{className:"card col-9 col-md-7 rounded-3 p-3 ".concat(d.a.modal),children:e.children})})},j=function(e){return Object(m.jsx)(r.Fragment,{children:c.a.createPortal(Object(m.jsx)(u,{onClose:e.onClose,children:e.children}),document.getElementById("modal-root"))})},h=n(5),x=n.n(h),p=n(14),O=n.n(p),f=i.a.createContext({items:[],totalAmount:0,addItem:function(){},removeItem:function(){},clearCart:function(){}}),g=function(e){return Object(m.jsx)("li",{className:"list-group-item",children:Object(m.jsxs)("div",{className:"row justify-content-between",children:[Object(m.jsxs)("div",{className:"col-4",children:[Object(m.jsx)("i",{children:e.name})," ",Object(m.jsx)("br",{}),Object(m.jsx)("span",{children:Object(m.jsx)("b",{children:e.price.toFixed(2)})})]}),Object(m.jsx)("div",{className:"col-4 d-flex align-items-center justify-content-center",children:Object(m.jsx)("span",{className:"badge rounded-pill bg-light",children:Object(m.jsxs)("b",{children:["x ",e.amount]})})}),Object(m.jsxs)("div",{className:"col-4 d-flex align-items-center justify-content-end",children:[Object(m.jsx)("button",{className:"btn btn-sm btn-outline-info me-2",onClick:e.onRemove,children:"-"}),Object(m.jsx)("button",{className:"btn btn-sm btn-outline-info",onClick:e.onAdd,children:"+"})]})]})})},_=function(e){var t=Object(r.useState)(""),n=Object(s.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(!1),l=Object(s.a)(i,2),o=l[0],d=l[1],m=e(a);return{elementEnteredValue:a,elementValueIsValid:m,elementInputIsInvalid:!m&&o,elementChangeHandler:function(e){c(e.target.value)},elementBLurHandler:function(){d(!0)},reset:function(){d(!1),c("")}}},v=n(11),C=n.n(v),N=n(15),y=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(r.useCallback)(function(){var e=Object(N.a)(C.a.mark((function e(t,n){var c,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!1),e.prev=1,e.next=4,fetch(t.url,{method:t.method?t.method:"GET",headers:t.headers?t.headers:{},body:t.body?JSON.stringify(t.body):null});case 4:if((c=e.sent).ok){e.next=7;break}throw new Error("Request Fails");case 7:return e.next=9,c.json();case 9:s=e.sent,n(s),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),a(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n){return e.apply(this,arguments)}}(),[]);return{error:n,sendRequest:c}},M=function(e){var t=_((function(e){return""!==e.trim()})),n=t.elementEnteredValue,a=t.elementValueIsValid,c=t.elementInputIsInvalid,s=t.elementChangeHandler,i=t.elementBLurHandler,l=t.reset,o=_((function(e){return e.includes("@")})),d=o.elementEnteredValue,b=o.elementValueIsValid,u=o.elementInputIsInvalid,j=o.elementChangeHandler,h=o.elementBLurHandler,x=o.reset,p=_((function(e){return e.trim().length>15})),O=p.elementEnteredValue,g=p.elementValueIsValid,v=p.elementInputIsInvalid,C=p.elementChangeHandler,N=p.elementBLurHandler,M=p.reset,w=!1;w=!!(a&&b&&g);var I=y(),k=I.error,A=I.sendRequest,S=Object(r.useContext)(f);return Object(m.jsxs)("form",{className:"col-10 mx-auto mt-3 card p-2",onSubmit:function(t){t.preventDefault(),w&&(console.log(n),A({url:"https://react-http-c8897-default-rtdb.asia-southeast1.firebasedatabase.app/Order.json",method:"POST",headers:{"Content-Type":"application/json"},body:{userName:n,email:d,address:O,items:S.items.map((function(e){return{name:e.name,Amount:e.amount}}))}},(function(e){console.log(e)})),e.submitSuccess(),l(),x(),M())},children:[Object(m.jsx)("h4",{className:"text-center",children:"Checkout Details"}),k&&Object(m.jsx)("p",{className:"text-danger",children:k}),Object(m.jsxs)("div",{className:"form-floating",children:[Object(m.jsx)("input",{type:"text",className:"form-control",placeholder:"Name",value:n,onChange:s,onBlur:i}),Object(m.jsx)("label",{children:"Name : "}),c&&Object(m.jsx)("p",{className:"text-danger mt-1 mb-0",children:" Name is Invalid "})]}),Object(m.jsxs)("div",{className:"form-floating",children:[Object(m.jsx)("input",{type:"text",className:"form-control",placeholder:"example@email.com",value:d,onChange:j,onBlur:h}),Object(m.jsx)("label",{className:"form-label",children:"Email : "}),u&&Object(m.jsx)("p",{className:"text-danger mt-1 mb-0",children:" Email is Invalid "})]}),Object(m.jsxs)("div",{className:"form-floating",children:[Object(m.jsx)("textarea",{className:"form-control",rows:"10",placeholder:"Address",value:O,onChange:C,onBlur:N}),Object(m.jsx)("label",{className:"form-label",children:"Address : "}),v&&Object(m.jsx)("p",{className:"text-danger mt-1 mb-0",children:" Address is Invalid "})]}),Object(m.jsxs)("div",{className:"d-flex justify-content-end mt-2 py-2",children:[Object(m.jsx)("button",{className:"btn btn-sm btn-outline-danger me-2",onClick:e.closeCheckout,type:"button",children:"Cancel"}),Object(m.jsx)("button",{className:"btn btn-sm btn-outline-warning",onClick:e.onConfirm,disabled:!w,children:"Confirm"})]})]})},w=function(e){var t=Object(r.useContext)(f),n=Object(r.useState)(!1),a=Object(s.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)(!1),d=Object(s.a)(o,2),b=d[0],u=d[1],h=t.items.length>0,p=function(e){t.addItem(Object(l.a)(Object(l.a)({},e),{},{amount:1}))},_=function(e){t.removeItem(e)},v=t.items.map((function(e,t){return Object(m.jsx)(g,{name:e.name,price:e.price,amount:e.amount,onRemove:_.bind(null,e.id),onAdd:p.bind(null,e)},"Cm".concat(t))})),C=Object(m.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(m.jsx)("button",{className:"btn btn-sm btn-outline-danger closeCart me-2",onClick:e.onCloseCart,children:"Close"}),h&&Object(m.jsx)("button",{className:"btn btn-sm btn-outline-warning",onClick:function(){return i(!0)},children:"Order"})]}),N=Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:Object(m.jsx)("h4",{children:"Your Cart"})}),Object(m.jsx)("ul",{className:"list-group pb-2 ".concat(O.a.cartItem),children:v}),Object(m.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(m.jsx)("h3",{children:"Total Amount"}),Object(m.jsx)("span",{children:Object(m.jsxs)("b",{children:["\u20b9 ",Object(m.jsx)("i",{children:t.totalAmount.toFixed(2)})]})})]})]});return Object(m.jsxs)(j,{onClose:e.onCloseCart,children:[!b&&N,b||c?c?Object(m.jsx)(M,{closeCheckout:function(){return i(!1)},submitSuccess:function(){i(!1),u(!0),t.clearCart()}}):Object(m.jsx)("b",{className:"".concat(x.a["bg-grow-early"]," py-2 text-center text-light"),children:"Submitted Successfuly..!"}):C]})},I=n.p+"static/media/meals1.bdc7d046.jpg",k=n(12),A=n.n(k),S=function(){return Object(m.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"cart-plus",className:"svg-inline--fa fa-cart-plus fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",height:"20px",width:"20px",children:Object(m.jsx)("path",{fill:"currentColor",d:"M504.717 320H211.572l6.545 32h268.418c15.401 0 26.816 14.301 23.403 29.319l-5.517 24.276C523.112 414.668 536 433.828 536 456c0 31.202-25.519 56.444-56.824 55.994-29.823-.429-54.35-24.631-55.155-54.447-.44-16.287 6.085-31.049 16.803-41.548H231.176C241.553 426.165 248 440.326 248 456c0 31.813-26.528 57.431-58.67 55.938-28.54-1.325-51.751-24.385-53.251-52.917-1.158-22.034 10.436-41.455 28.051-51.586L93.883 64H24C10.745 64 0 53.255 0 40V24C0 10.745 10.745 0 24 0h102.529c11.401 0 21.228 8.021 23.513 19.19L159.208 64H551.99c15.401 0 26.816 14.301 23.403 29.319l-47.273 208C525.637 312.246 515.923 320 504.717 320zM408 168h-48v-40c0-8.837-7.163-16-16-16h-16c-8.837 0-16 7.163-16 16v40h-48c-8.837 0-16 7.163-16 16v16c0 8.837 7.163 16 16 16h48v40c0 8.837 7.163 16 16 16h16c8.837 0 16-7.163 16-16v-40h48c8.837 0 16-7.163 16-16v-16c0-8.837-7.163-16-16-16z"})})},E=function(e){var t=Object(r.useContext)(f).items.reduce((function(e,t){return e+t.amount}),0);return Object(m.jsxs)("button",{className:"btn btn-secondary btn-sm",onClick:e.onShow,children:[Object(m.jsx)("span",{style:{fontSize:"20px"},children:Object(m.jsx)(S,{})}),Object(m.jsx)("span",{className:"mx-2",children:"Your Cart"}),Object(m.jsx)("span",{className:"badge rounded-pill bg-warning",children:t})]})},H=function(e){return Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)("header",{className:"card px-1 px-md-5 py-3 ".concat(A.a.header),children:Object(m.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(m.jsx)("h2",{className:"d-flex align-items-center",children:"Meals-Corner"}),Object(m.jsx)(E,{onShow:e.onShowCart})]})}),Object(m.jsx)("div",{className:"text-center mx-2 py-2 ".concat(A.a["img-div"]," ").concat(x.a["bg-amy-crisp"]," rounded-3"),children:Object(m.jsx)("img",{src:I,alt:"Delecious Food Here!",height:"300px",width:"80%",className:"rounded-3"})})]})},V=i.a.forwardRef((function(e,t){return Object(m.jsxs)("div",{className:e.className,children:[Object(m.jsx)("label",{children:e.label}),Object(m.jsx)("input",Object(l.a)({ref:t},e.input))]})})),R=n(16),B=n.n(R),D=function(e){var t=Object(r.useState)(!0),n=Object(s.a)(t,2),a=n[0],c=n[1],i=Object(r.useRef)();return Object(m.jsxs)(r.Fragment,{children:[Object(m.jsxs)("form",{className:"d-flex justify-content-center",onSubmit:function(t){t.preventDefault();var n=i.current.value,a=+n;a<1||a>5||0===n.trim().length?c(!1):(e.onAddToCart(a),i.current.value="1",c(!0))},children:[Object(m.jsx)(V,{ref:i,className:"".concat(B.a.input),input:{type:"number",defaultValue:1,max:5,min:1},label:"Add Item"}),Object(m.jsx)("button",{className:"btn btn-info px-1 btn-sm ms-2",children:"+ Add"})]}),!a&&Object(m.jsx)("small",{children:Object(m.jsx)("p",{className:"text-danger",children:"Enter valid amount (1-5)."})})]})},L=function(e){var t=Object(r.useContext)(f),n="".concat(e.price.toFixed(2));return Object(m.jsx)("li",{className:"list-group-item ".concat(x.a["bg-malibu-beach"]),children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-md-8 col-10",children:[Object(m.jsx)("div",{children:Object(m.jsx)("b",{children:e.name})}),Object(m.jsx)("div",{children:Object(m.jsx)("i",{children:e.description})})]}),Object(m.jsxs)("div",{className:"col-md-4 col-10 text-center",children:[Object(m.jsxs)("div",{children:["Cost: ",Object(m.jsxs)("b",{children:["\u20b9",n]})]}),Object(m.jsx)(D,{onAddToCart:function(n){t.addItem({id:e.id,name:e.name,price:e.price,amount:n})}})]})]})})},F=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],c=y(),i=c.error,l=c.sendRequest,o=function(e){var t=[];for(var n in e)t.push(e[n]);a(t)};Object(r.useEffect)((function(){l({url:"https://react-http-c8897-default-rtdb.asia-southeast1.firebasedatabase.app/meals.json"},o)}),[l]);var d=n.map((function(e,t){return Object(m.jsx)(L,{id:t,name:e.name,price:e.price,description:e.description},"M".concat(t))}));return Object(m.jsx)("section",{className:"col-md-8 px-2 mb-2 mx-auto",children:i?Object(m.jsxs)("p",{className:"text-danger card p-3 text-center",children:[Object(m.jsx)("b",{children:" Oops ..! "}),Object(m.jsx)("h3",{children:i})]}):Object(m.jsx)("ul",{className:"list-group",children:d})})},z=n(17),T=n.n(z),q=function(){return Object(m.jsxs)("div",{className:"card col-9 col-md-6 mx-auto ".concat(x.a["bg-strong-bliss"]," ").concat(T.a["summary-wrapper"]),children:[Object(m.jsx)("h3",{className:"text-center",children:"Delicious Food List"}),Object(m.jsx)("p",{className:"px-3",children:"Choose your favorite meal from our broad selection of available meals and enjoy a delicious lunch or dinner at home."}),Object(m.jsx)("p",{className:"px-3",children:"All our meals are cooked with high-quality ingredients, just-in-time and of course by experienced chefs!"})]})},J=function(){return Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(q,{}),Object(m.jsx)(F,{})]})},P=n(13),G={items:[],totalAmount:0},W=function(e,t){if("ADD"===t.type){var n,a=e.totalAmount+t.item.price*t.item.amount,c=e.items.findIndex((function(e){return e.id===t.item.id})),s=e.items[c];if(-1!==c){var r=Object(l.a)(Object(l.a)({},s),{},{amount:s.amount+t.item.amount});(n=Object(P.a)(e.items))[c]=r}else n=e.items.concat(t.item);return{items:n,totalAmount:a}}if("REMOVE"===t.type){console.log(t.id);var i,o=e.items.findIndex((function(e){return e.id===t.id})),d=e.items[o];if(1===d.amount)i=e.items.filter((function(e){return e.id!==t.id}));else{var m=Object(l.a)(Object(l.a)({},d),{},{amount:d.amount-1});(i=Object(P.a)(e.items))[o]=m}return{items:i,totalAmount:e.totalAmount-d.price}}return t.type,G},Y=function(e){var t=Object(r.useReducer)(W,G),n=Object(s.a)(t,2),a=n[0],c=n[1],i={items:a.items,totalAmount:a.totalAmount,addItem:function(e){c({type:"ADD",item:e})},removeItem:function(e){c({type:"REMOVE",id:e})},clearCart:function(e){c({type:"CLEAR"})}};return Object(m.jsx)(f.Provider,{value:i,children:e.children})};var K=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(m.jsxs)(Y,{children:[n&&Object(m.jsx)(w,{onCloseCart:function(e){(e.target.classList.contains("closeModal")||e.target.classList.contains("closeCart"))&&a(!1)}}),Object(m.jsx)(H,{onShowCart:function(){a(!0)}}),Object(m.jsx)("main",{children:Object(m.jsx)(J,{})})]})};c.a.render(Object(m.jsx)(K,{}),document.getElementById("root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.b06a08c5.chunk.js.map